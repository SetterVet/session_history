{% load static from staticfiles %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Result Session parsing</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>

<div id="test"></div>
{{ unique_dates }}
<script>
  var dates_in_seconds = {{ unique_dates }};
  var dates = [];
  for(i=0;i<dates_in_seconds.length;i++)
  {
    dates.push(new Date(dates_in_seconds[i] * 1000));
  };
  console.log(dates)
  var trace1 = {
  x: dates,
  y: {{ passed }},
  name: 'passed',
  type: 'bar'
};

var trace2 = {
  x: dates,
  y: {{ error }},
  name: 'error',
  type: 'bar'
};

var data = [trace1, trace2];

var layout = {barmode: 'group'};

Plotly.newPlot('test', data, layout);
</script>
</body>
</html>
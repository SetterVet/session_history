{% load static from staticfiles %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Result Session parsing</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>

<div id="test"></div>

<script>
  var jsonObject = JSON.parse('{{ response | escapejs }}');
  var unique_dates = jsonObject.unique_dates;
  var passed = jsonObject.passed;
  var error = jsonObject.error;

  var trace1 = {
  x: unique_dates,
  y:  passed ,
  name: 'passed',
  type: 'bar'
};
console.log(trace1)

var trace2 = {
  x: unique_dates,
  y: error ,
  name: 'error',
  type: 'bar'
};
var data = [trace1, trace2];

var layout = {barmode: 'group'};

Plotly.newPlot('test', data, layout);
</script>

</body>
</html>